{"ast":null,"code":"var _jsxFileName = \"/home/shweta_ubuntu/SUNBEAM2023/Project/GIT REPO/TrekkingPortal_CDACProject/Frontend/ReactFrontEnd/src/components/ForgotPassword.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ForgotPassword() {\n  _s();\n  const [email, setEmail] = useState('');\n  const history = useHistory();\n  const [message, setMessage] = useState('');\n  const [showMessage, setShowMessage] = useState(false);\n  const ForgotPassword = () => {\n    const data = {\n      email: email\n    };\n    axios.post('http://localhost:7070/api/send-otp', data).then(response => {\n      console.log(response.data.message);\n      console.log(data);\n      console.log('Password updated successfully');\n      // Reset the form fields after successful update\n      setEmail('');\n      if (response.data.message === 'OTP sent successfully!') {\n        history.push('/forgotpassword2', {\n          email: response.data.email\n        });\n      } else {\n        setMessage('Error Detected!');\n      }\n      setShowMessage(true); // Show the message\n      setTimeout(() => {\n        setShowMessage(false); // Hide the message after 5 seconds\n      }, 5000);\n    }).catch(error => {\n      if (error.response && error.response.status === 500) {\n        // Handle 500 error\n        setMessage('An internal server error occurred. Please try again later.');\n      } else {\n        setMessage('Error updating password. Please check your input and try again.');\n      }\n      console.error('Error updating password:', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: '24px',\n        marginBottom: '20px'\n      },\n      children: \"Forgot Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        border: '1px solid #ccc',\n        padding: '20px',\n        borderRadius: '8px',\n        width: '50%',\n        boxShadow: '10px 10px 10px 5px grey'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), \"Email \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        style: {\n          margin: '10px',\n          padding: '8px',\n          border: '1px solid #ccc',\n          borderRadius: '4px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        onClick: ForgotPassword,\n        style: {\n          cursor: 'pointer'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), showMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '10px'\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(ForgotPassword, \"B0/B8cb+bSMorhD4KH2B/9yIKVo=\", false, function () {\n  return [useHistory];\n});\n_c = ForgotPassword;\nexport default ForgotPassword;\nvar _c;\n$RefreshReg$(_c, \"ForgotPassword\");","map":{"version":3,"names":["React","useState","axios","useHistory","jsxDEV","_jsxDEV","ForgotPassword","_s","email","setEmail","history","message","setMessage","showMessage","setShowMessage","data","post","then","response","console","log","push","setTimeout","catch","error","status","style","display","flexDirection","alignItems","justifyContent","height","children","fontSize","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","border","padding","borderRadius","width","boxShadow","type","id","value","onChange","e","target","margin","onClick","cursor","marginTop","_c","$RefreshReg$"],"sources":["/home/shweta_ubuntu/SUNBEAM2023/Project/GIT REPO/TrekkingPortal_CDACProject/Frontend/ReactFrontEnd/src/components/ForgotPassword.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nfunction ForgotPassword() {\n  const [email, setEmail] = useState('');\n  const history = useHistory();\n  const [message, setMessage] = useState('');\n  const [showMessage, setShowMessage] = useState(false);\n\n  const ForgotPassword = () => {\n    const data = {\n      email: email,\n    };\n\n    axios\n      .post('http://localhost:7070/api/send-otp', data)\n      .then(response => {\n        console.log(response.data.message);\n        console.log(data);\n        console.log('Password updated successfully');\n        // Reset the form fields after successful update\n        setEmail('');\n\n        if (response.data.message === 'OTP sent successfully!') {\n          history.push('/forgotpassword2', { email: response.data.email });\n        } else {\n          setMessage('Error Detected!');\n        }\n        setShowMessage(true); // Show the message\n        setTimeout(() => {\n          setShowMessage(false); // Hide the message after 5 seconds\n        }, 5000);\n      })\n      .catch(error => {\n        if (error.response && error.response.status === 500) {\n          // Handle 500 error\n          setMessage('An internal server error occurred. Please try again later.');\n        } else {\n          setMessage('Error updating password. Please check your input and try again.');\n        }\n        console.error('Error updating password:', error);\n      });\n  };\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100vh',\n      }}\n    >\n      <div\n        style={{\n          fontSize: '24px',\n          marginBottom: '20px',\n        }}\n      >\n        Forgot Password\n      </div>\n      <div\n        style={{\n          textAlign: 'center',\n          border: '1px solid #ccc',\n          padding: '20px',\n          borderRadius: '8px',\n          width: '50%',\n          boxShadow: '10px 10px 10px 5px grey',\n        }}\n      >\n        <br />\n        <br />\n        Email <br />\n        <input\n          type=\"text\"\n          id=\"email\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n          style={{\n            margin: '10px',\n            padding: '8px',\n            border: '1px solid #ccc',\n            borderRadius: '4px',\n          }}\n        />\n        <input\n          type=\"submit\"\n          onClick={ForgotPassword}\n          style={{\n            cursor: 'pointer',\n          }}\n        />\n\n        {showMessage && (\n          <div\n            style={{\n              marginTop: '10px',\n            }}\n          >\n            {message}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default ForgotPassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}